<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cantinho do Empadão</title>

<style>
body{
font-family:'Segoe UI',Arial;
margin:0;
background:linear-gradient(180deg,#5a2d0c,#3b1d08);
color:#fff;
}

header{text-align:center;padding:20px 10px;}
header img{width:170px;}
header h2{margin:5px 0 0;}

.container{padding:15px;padding-bottom:110px;}

.card{
background:#fff;
color:#333;
padding:15px;
margin-bottom:15px;
border-radius:15px;
box-shadow:0 6px 18px rgba(0,0,0,0.25);
}

.card h4{margin:0;color:#5a2d0c;}
.descricao{font-size:13px;margin:8px 0;color:#555;}

.qtd-box{
display:flex;
align-items:center;
gap:10px;
margin-top:10px;
}

.qtd-box button{
width:35px;
height:35px;
border:none;
background:#d4a017;
font-size:18px;
font-weight:bold;
border-radius:8px;
}

.qtd-num{
font-size:18px;
font-weight:bold;
}

button{
background:#d4a017;
color:#000;
border:none;
padding:12px;
border-radius:10px;
font-weight:bold;
cursor:pointer;
}

.nav-buttons{
display:flex;
gap:10px;
margin-top:20px;
}

.etapa{display:none;}
.etapa.ativa{display:block;}

.carrinho-total{
position:fixed;
bottom:0;
left:0;
right:0;
background:#d4a017;
color:#000;
padding:15px;
text-align:center;
font-weight:bold;
font-size:18px;
}
</style>
</head>
<body>

<header>
<img src="Logoep.jpg">
<h2>Cantinho do Empadão</h2>
</header>

<div class="container">

<!-- ETAPA 1 -->
<div class="etapa ativa" id="etapa1">
<h3>Etapa 1 - Escolher Itens</h3>

<h4>Empadões</h4>

<div class="card">
<h4>Frango Cremoso com Requeijão - R$18,99</h4>
<div class="descricao">
Massa amanteigada feita com Qualy e trigo premium.
Recheio cremoso de frango desfiado com cheiro-verde.
</div>

<label><input type="radio" name="milho" value="com milho"> Com milho</label>
<label><input type="radio" name="milho" value="sem milho"> Sem milho</label>

<div class="qtd-box">
<button onclick="alterarQtd('qtd1',-1)">-</button>
<span class="qtd-num" id="qtd1">0</span>
<button onclick="alterarQtd('qtd1',1)">+</button>
</div>
</div>

<h4>Combos</h4>

<div class="card">
<h4>Frango com Catupiry + Coca Lata - R$23,99</h4>
<div class="descricao">
Empadão 500g + Refrigerante lata.
</div>
<div class="qtd-box">
<button onclick="alterarQtd('qtd2',-1)">-</button>
<span class="qtd-num" id="qtd2">0</span>
<button onclick="alterarQtd('qtd2',1)">+</button>
</div>
</div>

<div class="card">
<h4>Frango com Requeijão + Guaraná Lata - R$23,99</h4>
<div class="descricao">
Empadão 500g + Refrigerante lata.
</div>
<div class="qtd-box">
<button onclick="alterarQtd('qtd3',-1)">-</button>
<span class="qtd-num" id="qtd3">0</span>
<button onclick="alterarQtd('qtd3',1)">+</button>
</div>
</div>

<h4>Bebidas</h4>

<div class="card">
<h4>Coca-Cola Lata - R$5,00</h4>
<div class="qtd-box">
<button onclick="alterarQtd('qtd4',-1)">-</button>
<span class="qtd-num" id="qtd4">0</span>
<button onclick="alterarQtd('qtd4',1)">+</button>
</div>
</div>

<div class="card">
<h4>Guaraná Lata - R$5,00</h4>
<div class="qtd-box">
<button onclick="alterarQtd('qtd5',-1)">-</button>
<span class="qtd-num" id="qtd5">0</span>
<button onclick="alterarQtd('qtd5',1)">+</button>
</div>
</div>

<div class="nav-buttons">
<button onclick="proxima(2)">Próxima</button>
</div>
</div>

<!-- ETAPA 2 -->
<div class="etapa" id="etapa2">
<h3>Etapa 2 - Endereço</h3>

<input type="text" id="nome" placeholder="Nome">
<input type="text" id="endereco" placeholder="Endereço">
<input type="text" id="bairro" placeholder="Bairro">
<input type="text" id="referencia" placeholder="Ponto de referência">

<div class="nav-buttons">
<button onclick="voltar(1)">Voltar</button>
<button onclick="proxima(3)">Próxima</button>
</div>
</div>

<!-- ETAPA 3 -->
<div class="etapa" id="etapa3">
<h3>Etapa 3 - Forma de Pagamento</h3>

<select id="pagamento" onchange="verificarPagamento()">
<option value="Débito">Débito</option>
<option value="Crédito">Crédito</option>
<option value="Dinheiro">Dinheiro</option>
<option value="Pix">Pix</option>
</select>

<div id="trocoDiv" style="display:none;">
Precisa de troco?
<input type="text" id="troco">
</div>

<div id="pixDiv" style="display:none;">
Chave Pix: 48092363000120<br>
⚠️ Enviar comprovante para o pedido ser preparado.
</div>

<div class="nav-buttons">
<button onclick="voltar(2)">Voltar</button>
<button onclick="proxima(4)">Próxima</button>
</div>
</div>

<!-- ETAPA 4 -->
<div class="etapa" id="etapa4">
<h3>Etapa 4 - Resumo</h3>
<div id="resumo"></div>

<div class="nav-buttons">
<button onclick="voltar(3)">Voltar</button>
<button onclick="enviarPedido()">Finalizar Pedido</button>
</div>
</div>

</div>

<div class="carrinho-total">
Total: R$ <span id="total">0.00</span>
</div>

<script>

function alterarQtd(id,valor){
let el=document.getElementById(id);
let num=parseInt(el.innerText);
num+=valor;
if(num<0)num=0;
el.innerText=num;
calcular();
}

function calcular(){
let total=0;
total+=qtd1.innerText*18.99;
total+=qtd2.innerText*23.99;
total+=qtd3.innerText*23.99;
total+=qtd4.innerText*5;
total+=qtd5.innerText*5;
document.getElementById('total').innerText=total.toFixed(2);
return total;
}

function proxima(n){
document.querySelectorAll('.etapa').forEach(e=>e.classList.remove('ativa'));
document.getElementById('etapa'+n).classList.add('ativa');
if(n==4) gerarResumo();
}

function voltar(n){
document.querySelectorAll('.etapa').forEach(e=>e.classList.remove('ativa'));
document.getElementById('etapa'+n).classList.add('ativa');
}

function verificarPagamento(){
let pag=pagamento.value;
trocoDiv.style.display=(pag=="Dinheiro")?"block":"none";
pixDiv.style.display=(pag=="Pix")?"block":"none";
}

function gerarResumo(){
let total=calcular();
let taxa=(bairro.value.toLowerCase()=="marambaia")?0:5;
if(total<18){alert("Pedido mínimo R$18");voltar(1);return;}
let final=total+taxa;

let resumo="NOVO PEDIDO\n\n";

if(qtd1.innerText>0){
let milho=document.querySelector('input[name="milho"]:checked');
let detalhe=milho?(" ("+milho.value+")"):"";
resumo+=qtd1.innerText+"x Empadão"+detalhe+"\n";
}

if(qtd2.innerText>0) resumo+=qtd2.innerText+"x Combo Catupiry\n";
if(qtd3.innerText>0) resumo+=qtd3.innerText+"x Combo Requeijão\n";
if(qtd4.innerText>0) resumo+=qtd4.innerText+"x Coca Lata\n";
if(qtd5.innerText>0) resumo+=qtd5.innerText+"x Guaraná Lata\n";

resumo+="\nSubtotal: R$"+total.toFixed(2);
if(taxa>0) resumo+="\nTaxa: R$5,00";
resumo+="\nTotal: R$"+final.toFixed(2);

document.getElementById("resumo").innerText=resumo;
}

function enviarPedido(){
let texto=encodeURIComponent(resumo.innerText+
"\n\nNome: "+nome.value+
"\nEndereço: "+endereco.value+
"\nBairro: "+bairro.value+
"\nReferência: "+referencia.value+
"\nPagamento: "+pagamento.value+
(troco.value?("\nTroco para: "+troco.value):"")
);

window.open("https://wa.me/5521969592922?text="+texto);
}

</script>

</body>
</html>