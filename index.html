<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cantinho do Empad√£o</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#fff;color:#333;}
header{background:#d90429;color:white;padding:15px;text-align:center;display:flex;flex-direction:column;align-items:center;}
header img{height:150px;border-radius:10px;margin-top:10px;}
header h1{margin:0;color:white;}
h2{margin-top:15px;color:#fff;background:#d90429;padding:5px;border-radius:5px;}
.produto{background:#fff;border:2px solid #d90429;margin:5px 0;border-radius:10px;padding:8px;box-shadow:0 2px 5px rgba(0,0,0,0.1);}
.produto-info{margin-bottom:5px;font-size:13px;}
.produto-contador{display:flex;align-items:center;gap:2px;margin-top:3px;}
.produto-contador button{
    background:#d90429;color:white;border:none;padding:1px 2px;border-radius:4px;font-weight:bold;font-size:8px;width:20px;
}
.produto-contador span{min-width:16px;text-align:center;display:inline-block;font-size:10px;}
select{width:100%;padding:3px;margin-top:3px;border:1px solid #ccc;border-radius:5px;font-size:12px;}
button{background:#d90429;color:white;border:none;padding:6px;border-radius:6px;width:100%;margin-top:8px;font-weight:bold;font-size:12px;}
button.voltar{background:#aaa;}
input{width:100%;padding:6px;margin-top:6px;border:1px solid #ccc;border-radius:5px;font-size:12px;}
.total{text-align:right;font-weight:bold;margin-top:8px;font-size:14px;}
#fechado{display:none;text-align:center;margin-top:50px;font-size:18px;color:#d90429;}
#horarios{margin-top:10px;text-align:center;font-size:14px;}
</style>
</head>
<body>

<header>
<h1>ü•ü Cantinho do Empad√£o</h1>
<img src="Logoep.jpg" alt="Logo">
</header>

<div id="fechado">
‚ùå No momento estamos fechados. Confira nosso hor√°rio de funcionamento:
<div id="horarios"></div>
</div>

<div id="menu" style="display:none;">

<h2>Empad√µes</h2>

<div class="produto">
  <div class="produto-info">
    <h3>Empad√£o de Frango com Requeij√£o</h3>
    <p>R$ 20,00</p>
    <label>Milho:</label>
    <select id="milho_frango_requeijao">
      <option value="false">Sem Milho</option>
      <option value="true">Com Milho</option>
    </select>
  </div>
  <div class="produto-contador">
    <button onclick="alterar('frango_requeijao',20,-1)">-</button>
    <span id="qtd_frango_requeijao">0</span>
    <button onclick="alterar('frango_requeijao',20,1)">+</button>
  </div>
  <p id="total_frango_requeijao">R$ 0,00</p>
</div>

<div class="produto">
  <div class="produto-info">
    <h3>Empad√£o de Frango com Catupiry</h3>
    <p>R$ 22,00</p>
    <label>Milho:</label>
    <select id="milho_frango_catupiry">
      <option value="false">Sem Milho</option>
      <option value="true">Com Milho</option>
    </select>
  </div>
  <div class="produto-contador">
    <button onclick="alterar('frango_catupiry',22,-1)">-</button>
    <span id="qtd_frango_catupiry">0</span>
    <button onclick="alterar('frango_catupiry',22,1)">+</button>
  </div>
  <p id="total_frango_catupiry">R$ 0,00</p>
</div>

<div class="produto">
  <div class="produto-info">
    <h3>Empad√£o de Frango sem Requeij√£o e sem Catupiry</h3>
    <p>R$ 18,00</p>
    <label>Milho:</label>
    <select id="milho_frango_simples">
      <option value="false">Sem Milho</option>
      <option value="true">Com Milho</option>
    </select>
  </div>
  <div class="produto-contador">
    <button onclick="alterar('frango_simples',18,-1)">-</button>
    <span id="qtd_frango_simples">0</span>
    <button onclick="alterar('frango_simples',18,1)">+</button>
  </div>
  <p id="total_frango_simples">R$ 0,00</p>
</div>

<h2>Bebidas</h2>

<div class="produto">
  <div class="produto-info">
    <h3>Guaracrack</h3>
    <p>R$ 7,00</p>
  </div>
  <div class="produto-contador">
    <button onclick="alterar('guaracrack',7,-1)">-</button>
    <span id="qtd_guaracrack">0</span>
    <button onclick="alterar('guaracrack',7,1)">+</button>
  </div>
  <p id="total_guaracrack">R$ 0,00</p>
</div>

<div class="produto">
  <div class="produto-info">
    <h3>Coca-Cola Lata 550ml</h3>
    <p>R$ 6,00</p>
  </div>
  <div class="produto-contador">
    <button onclick="alterar('coca550',6,-1)">-</button>
    <span id="qtd_coca550">0</span>
    <button onclick="alterar('coca550',6,1)">+</button>
  </div>
  <p id="total_coca550">R$ 0,00</p>
</div>

<div class="produto">
  <div class="produto-info">
    <h3>Guaran√° Lata 550ml</h3>
    <p>R$ 6,00</p>
  </div>
  <div class="produto-contador">
    <button onclick="alterar('guarana550',6,-1)">-</button>
    <span id="qtd_guarana550">0</span>
    <button onclick="alterar('guarana550',6,1)">+</button>
  </div>
  <p id="total_guarana550">R$ 0,00</p>
</div>

<button onclick="enviarWhatsApp()">üì© Enviar pedido pelo WhatsApp</button>

</div>

<script>
// Hor√°rios de funcionamento
const horarios = {
    "0": ["17:00","23:00"],  // Domingo
    "1": null,                // Segunda-feira Fechada
    "2": ["17:00","23:00"],  // Ter√ßa
    "3": ["19:00","23:30"],  // Quarta
    "4": ["19:00","23:30"],  // Quinta
    "5": ["19:00","23:30"],  // Sexta
    "6": ["17:00","23:00"]   // S√°bado
};

const horariosTexto = [
  "Domingo: 17:00 - 23:00",
  "Segunda-feira: Fechada",
  "Ter√ßa-feira: 17:00 - 23:00",
  "Quarta-feira: 19:00 - 23:30",
  "Quinta-feira: 19:00 - 23:30",
  "Sexta-feira: 19:00 - 23:30",
  "S√°bado: 17:00 - 23:00"
];

// Senha de administrador para acessar fora do hor√°rio
const senhaAdm = "1234";

function pad(n){ return n<10 ? '0'+n : n; }

function conferirHorario(){
    let agora = new Date();
    let dia = agora.getDay();
    let hora = agora.getHours();
    let min = agora.getMinutes();
    let horarioAtual = parseFloat(pad(hora)+'.'+pad(min));
    
    let abertura = horarios[dia] ? parseFloat(horarios[dia][0].replace(':','.')) : null;
    let fechamento = horarios[dia] ? parseFloat(horarios[dia][1].replace(':','.')) : null;

    let acessoAdm = false;

    if(abertura === null || horarioAtual < abertura || horarioAtual > fechamento){
        let resposta = prompt("Hor√°rio fechado. Se voc√™ √© administrador, digite a senha:");
        if(resposta === senhaAdm){
            acessoAdm = true;
        }
    }

    if((abertura && horarioAtual >= abertura && horarioAtual <= fechamento) || acessoAdm){
        document.getElementById('menu').style.display='block';
    } else {
        document.getElementById('fechado').style.display='block';
        mostrarHorarios();
    }
}

function mostrarHorarios(){
    const divHorarios = document.getElementById('horarios');
    divHorarios.innerHTML = horariosTexto.join('<br>');
}

// Contadores de produtos
function alterar(id,preco,quant){
    let qtdElem = document.getElementById("qtd_"+id);
    let totalElem = document.getElementById("total_"+id);
    let qtd = parseInt(qtdElem.innerText)+quant;
    if(qtd<0) qtd=0;
    qtdElem.innerText = qtd;
    totalElem.innerText = "R$ "+(qtd*preco).toFixed(2);
}

// WhatsApp
function enviarWhatsApp(){
    let numero = "5521969592922";
    let mensagem = "Ol√°, quero fazer um pedido:\n";

    const produtos = ["frango_requeijao","frango_catupiry","frango_simples","guaracrack","coca550","guarana550"];
    produtos.forEach(function(p){
        let qtd = parseInt(document.getElementById("qtd_"+p).innerText);
        if(qtd>0){
            let milho = document.getElementById("milho_"+p)? (document.getElementById("milho_"+p).value==="true"?" com milho":" sem milho"):"";
            let nomeFinal = p=="frango_requeijao"?"Empad√£o de Frango com Requeij√£o":
                            p=="frango_catupiry"?"Empad√£o de Frango com Catupiry":
                            p=="frango_simples"?"Empad√£o de Frango simples":p;
            mensagem += "- "+nomeFinal+milho+" x "+qtd+"\n";
        }
    });

    let endereco = prompt("Digite seu endere√ßo completo (nome, rua, n√∫mero, bairro):");
    if(endereco) mensagem += "Endere√ßo: " + endereco + "\n";

    let url = "https://wa.me/" + numero + "?text=" + encodeURIComponent(mensagem);
    window.open(url,"_blank");
}

window.onload = conferirHorario;
</script>

</body>
</html>