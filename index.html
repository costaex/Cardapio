<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Card√°pio Digital</title>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:#ffffff;
color:#333;
overflow-x:hidden;
}

header{
background:#d90429;
color:white;
padding:20px;
text-align:center;
font-size:22px;
font-weight:bold;
}

.etapa{
position:absolute;
width:100%;
top:80px;
left:0;
padding:15px;
opacity:0;
transform:translateX(100%);
transition:0.4s ease;
}

.ativa{
opacity:1;
transform:translateX(0);
position:relative;
}

.produto{
background:#fff;
border:2px solid #d90429;
margin:10px 0;
border-radius:10px;
padding:10px;
box-shadow:0 3px 8px rgba(0,0,0,0.1);
}

.contador button{
background:#d90429;
color:white;
border:none;
padding:6px 12px;
margin:5px;
border-radius:6px;
font-weight:bold;
}

button{
background:#d90429;
color:white;
border:none;
padding:10px;
border-radius:6px;
width:100%;
margin-top:15px;
font-weight:bold;
}

button.voltar{
background:#aaa;
}

input, select{
width:100%;
padding:8px;
margin-top:8px;
border:1px solid #ccc;
border-radius:5px;
}

.total{
font-weight:bold;
margin-top:10px;
}
</style>
</head>

<body>

<header>üçî Lanchonete do Alessandro</header>

<!-- ETAPA 1 -->
<div id="etapa1" class="etapa ativa">

<div class="produto">
<h3>X Burger - R$ 18</h3>
<button onclick="alterar('xburger',18,-1)">-</button>
<span id="qtd_xburger">0</span>
<button onclick="alterar('xburger',18,1)">+</button>
</div>

<div class="produto">
<h3>X Tudo - R$ 25</h3>
<button onclick="alterar('xtudo',25,-1)">-</button>
<span id="qtd_xtudo">0</span>
<button onclick="alterar('xtudo',25,1)">+</button>
</div>

<div class="total">
Subtotal: R$ <span id="subtotal1">0.00</span>
</div>

<button onclick="irPara(2)">Continuar</button>
</div>

<!-- ETAPA 2 -->
<div id="etapa2" class="etapa">

<label>Nome:</label>
<input type="text" id="nome">

<label>Telefone:</label>
<input type="text" id="telefone">

<label>Endere√ßo:</label>
<input type="text" id="endereco">

<label>Bairro:</label>
<input type="text" id="bairro">

<label>Observa√ß√£o:</label>
<input type="text" id="obs">

<button class="voltar" onclick="irPara(1)">Voltar</button>
<button onclick="irPara(3)">Continuar</button>

</div>

<!-- ETAPA 3 -->
<div id="etapa3" class="etapa">

<label>Cupom:</label>
<input type="text" id="cupom">
<button onclick="aplicarCupom()">Aplicar Cupom</button>

<div class="total">
Subtotal: R$ <span id="subtotal">0.00</span><br>
Desconto: R$ <span id="desconto">0.00</span><br>
Total: R$ <span id="total">0.00</span>
</div>

<label>Forma de pagamento:</label>
<select id="pagamento">
<option>Pix</option>
<option>Cart√£o</option>
<option>Dinheiro</option>
</select>

<label>Troco para:</label>
<input type="text" id="troco">

<button class="voltar" onclick="irPara(2)">Voltar</button>
<button onclick="finalizar()">Enviar Pedido</button>

</div>

<script>

let carrinho={
xburger:{nome:"X Burger",preco:18,qtd:0},
xtudo:{nome:"X Tudo",preco:25,qtd:0}
};

let desconto=0;

function alterar(id,preco,valor){
carrinho[id].qtd+=valor;
if(carrinho[id].qtd<0) carrinho[id].qtd=0;
document.getElementById("qtd_"+id).innerText=carrinho[id].qtd;
atualizar();
}

function calcularSubtotal(){
let soma=0;
for(let item in carrinho){
soma+=carrinho[item].qtd*carrinho[item].preco;
}
return soma;
}

function atualizar(){
let subtotal=calcularSubtotal();
document.getElementById("subtotal1").innerText=subtotal.toFixed(2);
document.getElementById("subtotal").innerText=subtotal.toFixed(2);
document.getElementById("desconto").innerText=desconto.toFixed(2);
document.getElementById("total").innerText=(subtotal-desconto).toFixed(2);
}

function aplicarCupom(){
let cupom=document.getElementById("cupom").value;
let subtotal=calcularSubtotal();

if(cupom==="DESCONTO10"){
desconto=subtotal*0.10;
}else{
desconto=0;
alert("Cupom inv√°lido");
}
atualizar();
}

function irPara(num){
document.querySelectorAll(".etapa").forEach(div=>{
div.classList.remove("ativa");
});
document.getElementById("etapa"+num).classList.add("ativa");
atualizar();
}

function finalizar(){

let subtotal=calcularSubtotal();
let totalFinal=(subtotal-desconto).toFixed(2);

let mensagem="*NOVO PEDIDO*%0A%0A";
mensagem+="Nome: "+nome.value+"%0A";
mensagem+="Telefone: "+telefone.value+"%0A";
mensagem+="Endere√ßo: "+endereco.value+"%0A";
mensagem+="Bairro: "+bairro.value+"%0A";
mensagem+="Obs: "+obs.value+"%0A%0A";

mensagem+="*Itens:*%0A";

for(let item in carrinho){
if(carrinho[item].qtd>0){
mensagem+=carrinho[item].nome+" x"+carrinho[item].qtd+"%0A";
}
}
mensagem+="%0ATotal: R$ "+totalFinal+"%0A";
mensagem+="Pagamento: "+pagamento.value+"%0A";

if(pagamento.value==="Dinheiro"){
mensagem+="Troco para: "+troco.value+"%0A";
}
window.open("https://wa.me/5521999999999?text="+mensagem);

}

</script>

</body>
</html>
