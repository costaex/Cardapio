<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cantinho do Empad√£o</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#f5f5f5;
    margin:0;
}
header{
    background:#d60000;
    color:white;
    padding:15px;
    text-align:center;
}
.logo{
    width:90px;
    margin-bottom:10px;
}
.carrinho-topo{
    background:#b30000;
    padding:8px;
    font-size:14px;
}
.etapa{
    display:none;
    padding:15px;
}
.ativa{
    display:block;
}
.card{
    background:white;
    padding:15px;
    border-radius:10px;
    margin-bottom:15px;
    box-shadow:0 2px 5px rgba(0,0,0,0.1);
}
.price{
    color:#d60000;
    font-weight:bold;
}
.qty{
    display:flex;
    align-items:center;
    margin-top:10px;
}
.qty button{
    background:#d60000;
    color:white;
    border:none;
    width:30px;
    height:30px;
    border-radius:5px;
}
.qty span{
    margin:0 10px;
}
input, select{
    width:100%;
    padding:10px;
    margin-top:10px;
}
button{
    background:#d60000;
    color:white;
    border:none;
    padding:15px;
    width:100%;
    border-radius:8px;
    margin-top:15px;
}
.resumo-box{
    background:white;
    padding:15px;
    border-radius:10px;
}
</style>
</head>

<body>

<header>
<img src="https://cdn-icons-png.flaticon.com/512/1046/1046784.png" class="logo">
<h1>ü•ß Cantinho do Empad√£o</h1>
<div class="carrinho-topo">
üõí Total no Carrinho: R$ <span id="totalTopo">0.00</span>
</div>
</header>

<!-- ETAPA 1 -->
<div class="etapa ativa" id="etapa1">
<h2>1Ô∏è‚É£ Escolha seus produtos</h2>

<div class="card">
<h3>Frango com Catupiry</h3>
<p class="price">R$ 18,99</p>
<div class="qty">
<button onclick="alterar('cat',-1,18.99)">-</button>
<span id="cat">0</span>
<button onclick="alterar('cat',1,18.99)">+</button>
</div>
</div>

<div class="card">
<h3>Frango com Requeij√£o</h3>
<p class="price">R$ 18,99</p>
<div class="qty">
<button onclick="alterar('req',-1,18.99)">-</button>
<span id="req">0</span>
<button onclick="alterar('req',1,18.99)">+</button>
</div>
</div>

<h3>üî• Combos - R$ 23,99</h3>

<div class="card">
<h3>Combo Catupiry + Coca</h3>
<p class="price">R$ 23,99</p>
<div class="qty">
<button onclick="alterar('combo1',-1,23.99)">-</button>
<span id="combo1">0</span>
<button onclick="alterar('combo1',1,23.99)">+</button>
</div>
</div>

<div class="card">
<h3>Combo Requeij√£o + Guaran√°</h3>
<p class="price">R$ 23,99</p>
<div class="qty">
<button onclick="alterar('combo2',-1,23.99)">-</button>
<span id="combo2">0</span>
<button onclick="alterar('combo2',1,23.99)">+</button>
</div>
</div>

<button onclick="proxima(2)">Continuar</button>
</div>

<!-- ETAPA 2 -->
<div class="etapa" id="etapa2">
<h2>2Ô∏è‚É£ Dados e Pagamento</h2>

<input type="text" id="nome" placeholder="Seu nome">
<input type="text" id="endereco" placeholder="Endere√ßo">
<input type="text" id="bairro" placeholder="Bairro">
<input type="text" id="referencia" placeholder="Ponto de refer√™ncia">

<h3>Forma de Pagamento</h3>
<select id="pagamento" onchange="verPix()">
<option>D√©bito</option>
<option>Cr√©dito</option>
<option>Pix</option>
<option>Dinheiro</option>
</select>

<p id="pixmsg" style="display:none;color:#d60000;font-weight:bold;">
üí≥ Pagamento via Pix<br>
Envie o comprovante ap√≥s o pagamento.<br>
Chave Pix: 48092363000120
</p>

<h3>üåΩ Deseja milho?</h3>
<label><input type="radio" name="milho" value="Com milho"> Com milho</label><br>
<label><input type="radio" name="milho" value="Sem milho"> Sem milho</label>

<button onclick="proxima(3)">Continuar</button>
</div>

<!-- ETAPA 3 -->
<div class="etapa" id="etapa3">
<h2>3Ô∏è‚É£ Finalizar Pedido</h2>
<div class="resumo-box" id="resumo"></div>
<button onclick="enviarWhats()">Finalizar e Enviar</button>
</div>

<script>

let total = 0;

function alterar(id,valor,preco){
let el=document.getElementById(id);
let atual=parseInt(el.innerText);

if(atual+valor>=0){
el.innerText=atual+valor;
total += valor*preco;
if(total<0) total=0;
document.getElementById("totalTopo").innerText = total.toFixed(2);
}
}

function proxima(num){
document.querySelectorAll('.etapa').forEach(e=>e.classList.remove('ativa'));
document.getElementById("etapa"+num).classList.add('ativa');
if(num===3) gerarResumo();
}

function verPix(){
let forma=document.getElementById("pagamento").value;
document.getElementById("pixmsg").style.display = forma==="Pix"?"block":"block" && forma==="Pix";
}

function gerarResumo(){

let bairro=document.getElementById("bairro").value.toLowerCase();
let taxa = bairro && bairro !== "marambaia" ? 5 : 0;

let subtotal = total;
let totalFinal = subtotal + taxa;

let resumoItens = "";

function addItem(nome,id,preco){
let qtd = parseInt(document.getElementById(id).innerText);
if(qtd>0){
resumoItens += `${qtd}x ${nome} - R$ ${(qtd*preco).toFixed(2)}<br>`;
}
}

addItem("Empad√£o Frango com Catupiry","cat",18.99);
addItem("Empad√£o Frango com Requeij√£o","req",18.99);
addItem("Combo Catupiry + Coca","combo1",23.99);
addItem("Combo Requeij√£o + Guaran√°","combo2",23.99);

document.getElementById("resumo").innerHTML = `
<strong>Itens do Pedido:</strong><br>
${resumoItens}
<hr>
Subtotal: R$ ${subtotal.toFixed(2)}<br>
Taxa: R$ ${taxa.toFixed(2)}<br>
<strong>Total Final: R$ ${totalFinal.toFixed(2)}</strong>
`;
}

function enviarWhats(){

let nome=document.getElementById("nome").value;
let endereco=document.getElementById("endereco").value;
let bairro=document.getElementById("bairro").value;
let referencia=document.getElementById("referencia").value;
let pagamento=document.getElementById("pagamento").value;

let bairroLower=bairro.toLowerCase();
let taxa = bairroLower && bairroLower !== "marambaia" ? 5 : 0;
let totalFinal = total + taxa;

let milho = document.querySelector('input[name="milho"]:checked');
let opcMilho = milho ? milho.value : "N√£o informado";

let mensagem="üßæ *NOVO PEDIDO* %0A%0A";

function addItemZap(nome,id,preco){
let qtd = parseInt(document.getElementById(id).innerText);
if(qtd>0){
mensagem += `‚Ä¢ ${qtd}x ${nome} - R$ ${(qtd*preco).toFixed(2)}%0A`;
}
}

addItemZap("Empad√£o Frango com Catupiry","cat",18.99);
addItemZap("Empad√£o Frango com Requeij√£o","req",18.99);
addItemZap("Combo Catupiry + Coca","combo1",23.99);
addItemZap("Combo Requeij√£o + Guaran√°","combo2",23.99);

mensagem += `%0AüåΩ Milho: ${opcMilho}%0A`;
mensagem += `%0ASubtotal: R$ ${total.toFixed(2)}%0A`;
mensagem += `Taxa: R$ ${taxa.toFixed(2)}%0A`;
mensagem += `*Total Final: R$ ${totalFinal.toFixed(2)}*%0A%0A`;

mensagem += `üë§ Nome: ${nome}%0A`;
mensagem += `üìç Endere√ßo: ${endereco}%0A`;
mensagem += `üèò Bairro: ${bairro}%0A`;
mensagem += `üìå Refer√™ncia: ${referencia}%0A`;
mensagem += `üí≥ Pagamento: ${pagamento}%0A`;

let url="https://wa.me/5521969592922?text="+mensagem;
window.open(url,"_blank");
}

</script>

</body>
</html>